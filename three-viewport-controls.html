<link rel="import" href="../three-js/three.html">

<!--
Viewport camera controller

@element three-viewport-controls
@blurb Viewport camera controller
-->

<polymer-element name="three-viewport-controls">
  <script>
  (function() {

      Polymer({
        publish: {
          camera: null,
          enabled: true,
        },

        cameraChanged: function() {

          if (this.controls) this.controls.enabled = false;

          // TODO: preserve center

          this.controls = new THREE.EditorControls(this.camera, this.parentNode.host);
          this.controls.addEventListener('change', function() {
            this.fire('three-viewport-controls-changed');
          }.bind(this));

        },

        focusObject: function(object, frame) {
          this.controls.focus(object, frame);
        }

      });
  }());
  </script>
</polymer-element>